<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Italy Trip 2025 - Our Italian Adventure</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Force cache refresh - v3.0 -->
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #f7fafc;
            margin: 0;
            padding: 0;
        }
        .header {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            padding: 2.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.07);
        }
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: bold;
            letter-spacing: 1px;
        }
        .header p {
            margin: 0.5rem 0 0 0;
            font-size: 1.2rem;
            opacity: 0.95;
        }
        .section {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        .section-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 1.5rem;
            color: #2d3748;
            font-weight: 600;
        }
        .section-subtitle {
            text-align: center;
            color: #718096;
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }
        
        /* Map Cards */
        .map-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .map-card h3 {
            font-size: 1.5rem;
            color: #4299e1;
            margin: 0 0 1rem 0;
            font-weight: 600;
        }
        .leaflet-container {
            width: 100% !important;
            height: 450px !important;
            border-radius: 8px;
        }
        
        /* Flight Maps Grid - Side by Side */
        .flight-maps-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        /* Mobile Responsive - Stack on smaller screens */
        @media (max-width: 768px) {
            .flight-maps-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            .header h1 {
                font-size: 1.8rem;
            }
            .header p {
                font-size: 1rem;
            }
            .section-title {
                font-size: 1.5rem;
            }
            .section-subtitle {
                font-size: 1rem;
            }
            .map-card {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            .map-card h3 {
                font-size: 1.2rem;
            }
            .leaflet-container {
                height: 200px !important;
            }
        }
        
        /* Tablet - Medium screens */
        @media (min-width: 769px) and (max-width: 1024px) {
            .leaflet-container {
                height: 380px !important;
            }
        }
        
        /* Flight Info Cards */
        .flight-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        .flight-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 1.5rem;
        }
        .flight-card h4 {
            font-size: 1.3rem;
            margin: 0 0 1rem 0;
            font-weight: 600;
        }
        .flight-card.mary-lisa h4 { color: #ed8936; }
        .flight-card.keo-karen h4 { color: #9f7aea; }
        .flight-card .route {
            background: #f7fafc;
            padding: 0.75rem;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        .flight-card .route strong {
            display: block;
            margin-bottom: 0.25rem;
        }
        .flight-card .arrow {
            text-align: center;
            color: #cbd5e0;
            font-size: 1.5rem;
            margin: 0.25rem 0;
        }
        
        /* Trip Details */
        .trip-info {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }
        .trip-info h3 {
            font-size: 1.5rem;
            color: #4299e1;
            margin: 0 0 0.5rem 0;
        }
        .trip-info .dates {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.5rem;
        }
        .trip-info .duration {
            color: #718096;
            font-size: 1.1rem;
        }
        
        /* Destination Cards */
        #destination-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        .destination-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 1.5rem;
            border-left: 5px solid #4299e1;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .destination-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.12);
        }
        .destination-card h4 {
            font-size: 1.5rem;
            color: #2d3748;
            margin: 0 0 0.5rem 0;
            font-weight: 600;
        }
        .destination-card .order-badge {
            display: inline-block;
            background: #4299e1;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }
        .destination-card .dates {
            font-size: 1.1rem;
            color: #48bb78;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        .destination-card .info-section {
            margin-bottom: 1rem;
        }
        .destination-card .info-label {
            font-weight: 600;
            color: #4a5568;
            font-size: 0.95rem;
            margin-bottom: 0.25rem;
        }
        .destination-card .info-content {
            color: #2d3748;
            font-size: 1rem;
            line-height: 1.5;
        }
        .destination-card .activities-list {
            list-style: none;
            padding: 0;
            margin: 0.5rem 0 0 0;
        }
        .destination-card .activities-list li {
            padding: 0.4rem 0;
            color: #2d3748;
        }
        .destination-card .activities-list li:before {
            content: "‚úì ";
            color: #48bb78;
            font-weight: bold;
            margin-right: 0.5rem;
        }
        .activity-link {
            color: #4299e1;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.2s;
        }
        .activity-link:hover {
            color: #2c5282;
            text-decoration: underline;
        }
        .activity-location {
            display: inline-block;
            margin-top: 0.25rem;
            font-size: 0.85rem;
            color: #718096;
        }
        .activity-location a {
            color: #718096;
            text-decoration: none;
            transition: color 0.2s;
        }
        .activity-location a:hover {
            color: #4299e1;
            text-decoration: underline;
        }
        .destination-card .notes {
            background: #fef5e7;
            border-left: 3px solid #f39c12;
            padding: 0.75rem;
            margin-top: 1rem;
            border-radius: 4px;
            font-size: 0.95rem;
            color: #7d6608;
        }
        
        /* Transportation Section */
        .transport-section {
            margin-bottom: 2rem;
        }
        .transport-heading {
            font-size: 1.5rem;
            color: #2d3748;
            margin-bottom: 1rem;
            font-weight: 600;
            text-align: center;
        }
        .transport-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .transport-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 1.5rem;
            border-top: 4px solid #4299e1;
        }
        .transport-card.rental-car {
            border-top-color: #48bb78;
        }
        .transport-card.flight-card-mary-lisa {
            border-top-color: #ed8936;
        }
        .transport-card.flight-card-keo-karen {
            border-top-color: #9f7aea;
        }
        .route-header {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e2e8f0;
        }
        .passenger-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        .passenger-item {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 1rem;
            align-items: center;
            padding: 0.5rem;
            background: #f7fafc;
            border-radius: 6px;
        }
        .passenger-name {
            font-weight: 500;
            color: #2d3748;
        }
        .ticket-info {
            color: #718096;
            font-size: 0.9rem;
        }
        .seat-info {
            color: #4299e1;
            font-size: 0.9rem;
            font-weight: 600;
            background: #ebf8ff;
            padding: 0.25rem 0.6rem;
            border-radius: 4px;
        }
        .route-details {
            color: #718096;
            font-size: 0.95rem;
            margin-top: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid #e2e8f0;
        }
        .rental-info, .flight-info {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .rental-detail, .flight-detail {
            padding: 0.5rem;
            background: #f7fafc;
            border-radius: 6px;
            font-size: 0.95rem;
        }
        .rental-detail strong, .flight-detail strong {
            color: #4299e1;
            margin-right: 0.5rem;
        }
        
        /* Hotel Cards */
        #hotel-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .hotel-card-detail {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 1.5rem;
            border-left: 5px solid #f39c12;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .hotel-card-detail:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.12);
        }
        .hotel-card-detail h4 {
            font-size: 1.5rem;
            color: #2d3748;
            margin: 0 0 0.5rem 0;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .hotel-icon {
            font-size: 1.8rem;
        }
        .hotel-city-badge {
            display: inline-block;
            background: #f39c12;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        .hotel-info-item {
            margin-bottom: 0.75rem;
            padding: 0.75rem;
            background: #f7fafc;
            border-radius: 6px;
            line-height: 1.6;
        }
        .hotel-info-item strong {
            color: #f39c12;
            margin-right: 0.5rem;
            font-size: 0.95rem;
        }
        .hotel-link {
            display: inline-block;
            margin-top: 0.25rem;
            color: #4299e1;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            padding: 0.4rem 0.8rem;
            background: #ebf8ff;
            border-radius: 6px;
            border: 1px solid #bee3f8;
            transition: all 0.2s;
        }
        .hotel-link:hover {
            color: #2c5282;
            background: #bee3f8;
            border-color: #90cdf4;
            transform: translateX(2px);
        }
        .hotel-address-link {
            color: #4299e1;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }
        .hotel-address-link:hover {
            color: #2c5282;
            text-decoration: underline;
        }
        .hotel-phone-link {
            color: #555;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }
        .hotel-phone-link:hover {
            color: #4299e1;
            text-decoration: underline;
        }
        .hotel-confirmation {
            background: #e6fffa;
            border-left: 3px solid #38b2ac;
            padding: 0.75rem;
            margin-top: 1rem;
            border-radius: 4px;
            font-size: 0.95rem;
            color: #234e52;
        }
        
        /* Tabs Styles */
        .tabs-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        
        .tabs-header {
            display: flex;
            flex-wrap: wrap;
            background: #f7fafc;
            border-bottom: 2px solid #e2e8f0;
            gap: 0;
        }
        
        .tab-button {
            flex: 1 1 auto;
            min-width: 120px;
            padding: 1rem 0.75rem;
            background: transparent;
            border: none;
            font-size: 0.95rem;
            font-weight: 600;
            color: #718096;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            text-align: center;
        }
        
        .tab-button:hover {
            background: #edf2f7;
            color: #4299e1;
        }
        
        .tab-button.active {
            color: #4299e1;
            background: white;
            border-bottom: 3px solid #4299e1;
        }
        
        /* Mobile responsive tabs */
        @media (max-width: 768px) {
            .tabs-header {
                gap: 0.25rem;
            }
            
            .tab-button {
                flex: 1 1 calc(50% - 0.125rem);
                min-width: unset;
                padding: 0.85rem 0.5rem;
                font-size: 0.85rem;
            }
        }
        
        @media (max-width: 480px) {
            .tab-button {
                padding: 0.75rem 0.4rem;
                font-size: 0.8rem;
            }
        }
        
        .tabs-content {
            padding: 2rem;
        }
        
        @media (max-width: 768px) {
            .tabs-content {
                padding: 1rem;
            }
        }
        
        .tab-panel {
            display: none;
        }
        
        .tab-panel.active {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Calendar Styles - Mobile-First Design */
        .calendar-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 1rem;
            margin-bottom: 2rem;
        }
        
        .calendar-month-header {
            text-align: center;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid #4299e1;
        }
        
        .calendar-month-header h3 {
            font-size: 1.8rem;
            color: #2d3748;
            margin: 0;
            font-weight: 700;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 6px;
            width: 100%;
        }
        
        .calendar-weekday {
            background: #4299e1;
            color: white;
            text-align: center;
            padding: 0.6rem;
            font-weight: 700;
            font-size: 0.9rem;
            border-radius: 4px;
        }
        
        .calendar-cell {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            min-height: 90px;
            padding: 0.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            text-align: center;
            border-radius: 6px;
        }
        
        .calendar-cell.empty {
            background: transparent;
            border: none;
        }
        
        .calendar-cell.trip-day {
            background: linear-gradient(135deg, #fff5f0 0%, #ffe4d6 100%);
            border: 2px solid #ed8936;
            box-shadow: 0 2px 6px rgba(237, 137, 54, 0.3);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .calendar-cell.trip-day:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(237, 137, 54, 0.5);
        }
        
        .cell-date {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 0.3rem;
        }
        
        .cell-badge {
            background: #4299e1;
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }
        
        .cell-loc {
            font-size: 0.85rem;
            font-weight: 600;
            color: #ed8936;
            line-height: 1.2;
            margin-bottom: 0.2rem;
        }
        
        .cell-activity-count {
            font-size: 0.75rem;
            color: #4299e1;
            margin-top: 0.2rem;
            font-weight: 600;
        }
        
        .cell-activities {
            font-size: 0.7rem;
            color: #2d3748;
            margin-top: 0.2rem;
            line-height: 1.3;
            width: 100%;
            text-align: center;
        }
        
        .activity-item {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0.1rem 0;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            animation: fadeIn 0.3s;
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 12px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: slideDown 0.3s;
        }
        
        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-close {
            color: #718096;
            float: right;
            font-size: 2rem;
            font-weight: bold;
            line-height: 1;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .modal-close:hover {
            color: #2d3748;
        }
        
        /* Photo Gallery Styles */
        .photos-gallery {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .photo-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        
        .photo-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
        
        .photo-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }
        
        .photo-placeholder {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .photo-placeholder p {
            margin-top: 0.5rem;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .photo-caption {
            padding: 1rem;
            background: white;
        }
        
        .photo-caption h4 {
            margin: 0 0 0.5rem 0;
            color: #2d3748;
            font-size: 1.1rem;
        }
        
        .photo-caption p {
            margin: 0;
            color: #718096;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .photo-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 1rem;
            }
            
            .photo-card img,
            .photo-placeholder {
                height: 180px;
            }
        }
        
        @media (max-width: 480px) {
            .photo-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }
            
            .photo-card img,
            .photo-placeholder {
                height: 150px;
            }
            
            .photo-placeholder p {
                font-size: 1rem;
            }
        }
        
        /* Desktop: Larger cells */
        @media (min-width: 769px) {
            .calendar-container {
                padding: 2rem;
            }
            .calendar-month-header h3 {
                font-size: 2rem;
            }
            .calendar-grid {
                gap: 8px;
            }
            .calendar-weekday {
                padding: 0.75rem;
                font-size: 0.9rem;
            }
            .calendar-cell {
                min-height: 100px;
                padding: 0.5rem;
            }
            .cell-date {
                font-size: 1.3rem;
            }
            .cell-badge {
                font-size: 0.7rem;
                padding: 0.2rem 0.5rem;
            }
            .cell-loc {
                font-size: 0.75rem;
            }
        }
        
        /* Mobile: Compact but readable */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            .header p {
                font-size: 1rem;
            }
            .leaflet-container {
                height: 200px !important;
            }
            .section-title {
                font-size: 1.6rem;
            }
            .calendar-container {
                padding: 0.75rem;
            }
            .calendar-month-header h3 {
                font-size: 1.5rem;
            }
            .calendar-grid {
                gap: 4px;
            }
            .calendar-weekday {
                padding: 0.5rem;
                font-size: 0.75rem;
            }
            .calendar-cell {
                min-height: 75px;
                padding: 0.4rem;
            }
            .cell-date {
                font-size: 1.2rem;
                margin-bottom: 0.2rem;
            }
            .cell-badge {
                font-size: 0.7rem;
                padding: 0.15rem 0.4rem;
                margin-bottom: 0.2rem;
            }
            .cell-loc {
                font-size: 0.75rem;
                line-height: 1.2;
            }
            .cell-activity-count {
                font-size: 0.7rem;
            }
            .cell-activities {
                font-size: 0.65rem;
            }
        }
        
        /* Extra small mobile */
        @media (max-width: 480px) {
            .calendar-container {
                padding: 0.5rem;
            }
            .calendar-month-header h3 {
                font-size: 1.3rem;
                margin-bottom: 0.5rem;
            }
            .calendar-grid {
                gap: 3px;
            }
            .calendar-weekday {
                padding: 0.4rem;
                font-size: 0.7rem;
            }
            .calendar-cell {
                min-height: 70px;
                padding: 0.3rem;
            }
            .cell-date {
                font-size: 1.1rem;
            }
            .cell-badge {
                font-size: 0.65rem;
                padding: 0.12rem 0.35rem;
            }
            .cell-loc {
                font-size: 0.7rem;
            }
            .cell-activity-count {
                font-size: 0.65rem;
            }
            .cell-activities {
                font-size: 0.6rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üáÆüáπ Italy Trip 2025</h1>
        <p>Our Italian Adventure - Together in Italy!</p>
    </div>

    <!-- Trip Dates -->
    <div class="section">
        <div class="trip-info">
            <h3>üìÖ Trip Dates</h3>
            <div class="dates">November 19 - November 28, 2025</div>
            <div class="duration">8 amazing days exploring Italy together!</div>
            <div style="margin-top: 1rem; text-align: center;">
                <a href="https://docs.google.com/spreadsheets/d/1JwjqEVzij-edkrSp-30JlByLcGDIJwCgXH60tODMoBU/edit?usp=sharing" 
                   target="_blank" 
                   style="display: inline-block; background: #4299e1; color: white; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; box-shadow: 0 2px 8px rgba(66, 153, 225, 0.3); transition: background 0.2s;">
                    üìù Edit Trip Details in Google Sheets
                </a>
            </div>
        </div>
    </div>

    <!-- Tabbed Interface -->
    <div class="section">
        <h2 class="section-title"> Trip Overview</h2>
        <p class="section-subtitle">Explore your itinerary by calendar or destinations</p>
        
        <div class="tabs-container">
            <div class="tabs-header">
                <button class="tab-button active" data-tab="itinerary">üìç Destinations</button>
                <button class="tab-button" data-tab="flights">‚úàÔ∏è Flights</button>
                <button class="tab-button" data-tab="calendar">üìÖ Calendar View</button>
                <button class="tab-button" data-tab="hotels">üè® Hotels</button>
                <button class="tab-button" data-tab="transportation">üöÇ Transportation</button>
                <button class="tab-button" data-tab="rental">üöó Rental Car</button>
                <button class="tab-button" data-tab="photos">üì∏ Photos</button>
            </div>
            
            <div class="tabs-content">
                <!-- Itinerary Tab -->
                <div class="tab-panel active" id="itinerary-tab">
                    <div class="map-card">
                        <h3>Italy Travel Route - All Together!</h3>
                        <div id="italy-itinerary-map"></div>
                    </div>

                    <!-- Detailed Itinerary Cards -->
                    <div id="itinerary-cards" style="margin-top: 3rem;">
                        <h3 style="text-align: center; color: #2d3748; font-size: 1.8rem; margin-bottom: 1.5rem;">üìç Destination Details</h3>
                        <div id="destination-cards-container"></div>
        </div>
                </div>
                
                <!-- Flights Tab -->
                <div class="tab-panel" id="flights-tab">
                    <h2 class="section-title" style="text-align: center; color: #2d3748; font-size: 1.8rem; margin-bottom: 0.5rem;">‚úàÔ∏è Complete Flight Journey</h2>
                    <p class="section-subtitle" style="text-align: center; color: #4a5568; margin-bottom: 2rem;">Round-trip flight routes for each traveler group</p>
                    
                    <div class="flight-maps-grid">
                        <!-- Mary & Lisa Flight Map -->
                        <div class="map-card">
                            <h3>üß° Mary & Lisa - Flight Routes</h3>
                            <div id="mary-lisa-flight-map"></div>
                            
                            <!-- Legend -->
                            <div style="margin-top: 1.5rem; padding: 1rem; background: #f7fafc; border-radius: 8px;">
                                <div style="display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; margin-bottom: 0.75rem;">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <div style="width: 30px; height: 3px; background: #ed8936; border-top: 2px dashed #ed8936;"></div>
                                        <span style="font-size: 0.85rem; color: #2d3748;">Arrival (A, B)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <div style="width: 30px; height: 3px; background: #38a169;"></div>
                                        <span style="font-size: 0.85rem; color: #2d3748;">Departure (1, 2, 3)</span>
                                    </div>
                                </div>
                                <div style="font-size: 0.8rem; color: #718096; text-align: center;">
                                    A: Atlanta ‚Üí B: Rome | 1: Milan ‚Üí 2: JFK ‚Üí 3: Atlanta
                                </div>
                            </div>
                        </div>

                        <!-- Keo & Karen Flight Map -->
                        <div class="map-card">
                            <h3>üíú Keo & Karen - Flight Routes</h3>
                            <div id="keo-karen-flight-map"></div>
                            
                            <!-- Legend -->
                            <div style="margin-top: 1.5rem; padding: 1rem; background: #f7fafc; border-radius: 8px;">
                                <div style="display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; margin-bottom: 0.75rem;">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <div style="width: 30px; height: 3px; background: #9f7aea; border-top: 2px dashed #9f7aea;"></div>
                                        <span style="font-size: 0.85rem; color: #2d3748;">Arrival (A, B, C)</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <div style="width: 30px; height: 3px; background: #4299e1;"></div>
                                        <span style="font-size: 0.85rem; color: #2d3748;">Departure (1, 2, 3)</span>
                                    </div>
                                </div>
                                <div style="font-size: 0.8rem; color: #718096; text-align: center;">
                                    A: Sarasota ‚Üí B: Boston ‚Üí C: Rome | 1: Milan ‚Üí 2: JFK ‚Üí 3: Orlando
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flight-cards">
                        <div class="flight-card mary-lisa">
                            <h4>üß° Mary & Lisa</h4>
                            <div class="route">
                                <strong>Route:</strong> Atlanta ‚Üí Rome
                            </div>
                            <div class="route">
                                <strong>Flight Details:</strong> TBD
                            </div>
                            <div class="route">
                                <strong>Arrival:</strong> Nov 20, 2025
                            </div>
                        </div>

                        <div class="flight-card keo-karen">
                            <h4>üíú Keo & Karen</h4>
                            <div class="route">
                                <strong>Route:</strong> Sarasota ‚Üí Boston ‚Üí Rome
                            </div>
                            <div class="route">
                                <strong>Flight Details:</strong> TBD
                            </div>
                            <div class="route">
                                <strong>Arrival:</strong> Nov 20, 2025
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Calendar Tab -->
                <div class="tab-panel" id="calendar-tab">
                    <div class="calendar-container" style="min-height: 400px;">
                        <div id="trip-calendar"></div>
                    </div>
                </div>
                
                <!-- Hotels Tab -->
                <div class="tab-panel" id="hotels-tab">
                    <div id="hotel-cards" style="margin-top: 1rem;">
                        <h3 style="text-align: center; color: #2d3748; font-size: 1.8rem; margin-bottom: 1.5rem;">üè® Hotel Information</h3>
                        <div id="hotel-cards-container"></div>
                    </div>
                </div>

                <!-- Transportation Tab -->
                <div class="tab-panel" id="transportation-tab">
                    <h2 class="section-title" style="text-align: center; color: #2d3748; font-size: 1.8rem; margin-bottom: 0.5rem;">üöÇ Transportation & Travel Logistics</h2>
                    <p class="section-subtitle" style="text-align: center; color: #4a5568; margin-bottom: 2rem;">Train tickets and departure flights</p>
                    
                    <!-- Train Tickets -->
                    <div class="transport-section">
                        <h3 class="transport-heading">üé´ Italo Train Tickets</h3>
                        <div class="transport-cards">
                            <div class="transport-card">
                                <div class="route-header">Rome ‚Üí Verona</div>
                                <div class="passenger-list">
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Mary</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Lisa</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Keo</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Karen</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                </div>
                                <div class="route-details">Date: Nov 22, 2025 | Duration: ~1h 30min</div>
                            </div>

                            <div class="transport-card">
                                <div class="route-header">Verona ‚Üí Florence</div>
                                <div class="passenger-list">
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Mary</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Lisa</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Keo</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Karen</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                </div>
                                <div class="route-details">Date: Nov 25, 2025 | Duration: ~1h 30min</div>
                            </div>

                            <div class="transport-card">
                                <div class="route-header">Florence ‚Üí Milan</div>
                                <div class="passenger-list">
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Mary</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Lisa</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Keo</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Karen</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                </div>
                                <div class="route-details">Date: Nov 27, 2025 | Duration: ~2h 45min</div>
                            </div>

                            <div class="transport-card">
                                <div class="route-header">Milan ‚Üí Airport</div>
                                <div class="passenger-list">
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Mary</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Lisa</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Keo</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                    <div class="passenger-item">
                                        <span class="passenger-name">üë§ Karen</span>
                                        <span class="ticket-info">Ticket #: TBD</span>
                                        <span class="seat-info">Seat: TBD</span>
                                    </div>
                                </div>
                                <div class="route-details">Date: Nov 28, 2025 | Duration: ~30min</div>
                            </div>
                        </div>
                    </div>

                    <!-- Departure Flights -->
                    <div class="transport-section" style="margin-top: 2rem;">
                        <h3 class="transport-heading">‚úàÔ∏è Departure Flights</h3>
                        <div class="transport-cards">
                            <div class="transport-card flight-card-mary-lisa">
                                <div class="route-header">üß° Mary & Lisa: Milan ‚Üí Atlanta</div>
                                <div class="flight-info">
                                    <div class="flight-detail">
                                        <strong>üìÖ Date:</strong> Nov 28, 2025
                                    </div>
                                    <div class="flight-detail">
                                        <strong>‚úàÔ∏è Flight #:</strong> TBD
                                    </div>
                                    <div class="flight-detail">
                                        <strong>üïê Departure:</strong> TBD
                                    </div>
                                    <div class="flight-detail">
                                        <strong>üè† Destination:</strong> Atlanta, GA
                                    </div>
                                </div>
                            </div>

                            <div class="transport-card flight-card-keo-karen">
                                <div class="route-header">üíú Keo & Karen: Milan ‚Üí Sarasota</div>
                                <div class="flight-info">
                                    <div class="flight-detail">
                                        <strong>üìÖ Date:</strong> Nov 28, 2025
                                    </div>
                                    <div class="flight-detail">
                                        <strong>‚úàÔ∏è Flight #:</strong> TBD (likely via connection)
                                    </div>
                                    <div class="flight-detail">
                                        <strong>üïê Departure:</strong> TBD
                                    </div>
                                    <div class="flight-detail">
                                        <strong>üè† Destination:</strong> Sarasota, FL
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            <!-- Rental Car Tab -->
            <div class="tab-panel" id="rental-tab">
                <h2 class="section-title" style="text-align: center; color: #2d3748; font-size: 1.8rem; margin-bottom: 0.5rem;">üöó Rental Car Information</h2>
                <p class="section-subtitle" style="text-align: center; color: #4a5568; margin-bottom: 2rem;">Lake Garda rental car details</p>
                
                <div class="transport-section">
                    <div class="transport-cards">
                        <div class="transport-card rental-car">
                            <div class="route-header">Verona ‚Üí Sirmione (Lake Garda) ‚Üí Verona</div>
                            <div class="rental-info">
                                <div class="rental-detail">
                                    <strong>üìç Pickup:</strong> Verona (after train arrival)
                                </div>
                                <div class="rental-detail">
                                    <strong>üìÖ Pickup Date:</strong> Nov 22, 2025
                                </div>
                                <div class="rental-detail">
                                    <strong>üèûÔ∏è Destination:</strong> Sirmione, Lake Garda
                                </div>
                                <div class="rental-detail">
                                    <strong>üìç Drop-off:</strong> Verona (before train to Florence)
                                </div>
                                <div class="rental-detail">
                                    <strong>üìÖ Drop-off Date:</strong> Nov 25, 2025
                                </div>
                                <div class="rental-detail">
                                    <strong>üöô Company:</strong> TBD (Recommendation: SIXT or Hertz)
                                </div>
                                <div class="rental-detail">
                                    <strong>üë• All Passengers:</strong> Mary, Lisa, Keo, Karen
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Photos Tab -->
            <div class="tab-panel" id="photos-tab">
                <h2 class="section-title" style="text-align: center; color: #2d3748; font-size: 1.8rem; margin-bottom: 0.5rem;">üì∏ Trip Photos</h2>
                <p class="section-subtitle" style="text-align: center; color: #4a5568; margin-bottom: 2rem;">Memories from our Italy adventure</p>
                
                <div class="photos-gallery" id="photos-gallery">
                    <!-- Photo grid - will be populated dynamically -->
                    <div class="photo-grid" id="photo-grid">
                        <!-- Loading message -->
                        <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: #718096;">
                            <p style="font-size: 1.2rem; margin-bottom: 0.5rem;">üì∑ Loading photos...</p>
                            <p style="font-size: 0.9rem; color: #a0aec0;">Photos will appear here from your Google Photos album</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Load configuration and scripts -->
    <script src="config.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script src="script-single-sheet.js" defer></script>
    
    <script>
        // Tab switching functionality
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanels = document.querySelectorAll('.tab-panel');
            let flightMapsCreated = false;
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // Remove active class from all buttons and panels
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabPanels.forEach(panel => panel.classList.remove('active'));
                    
                    // Add active class to clicked button and corresponding panel
                    this.classList.add('active');
                    document.getElementById(targetTab + '-tab').classList.add('active');
                    
                    // Create flight maps on first click of Flights tab
                    if (targetTab === 'flights' && !flightMapsCreated) {
                        setTimeout(() => {
                            if (typeof createIndividualFlightMap === 'function') {
                                window.maryLisaFlightMap = createIndividualFlightMap('mary-lisa-flight-map', 'maryLisa');
                                window.keoKarenFlightMap = createIndividualFlightMap('keo-karen-flight-map', 'keoKaren');
                                console.log('Flight maps created');
                                flightMapsCreated = true;
                            }
                        }, 100);
                    }
                    
                    // Fix map rendering when tab becomes visible
                    setTimeout(() => {
                        if (window.itineraryMap && targetTab === 'itinerary') {
                            window.itineraryMap.invalidateSize();
                        }
                        if (window.maryLisaFlightMap && targetTab === 'flights') {
                            window.maryLisaFlightMap.invalidateSize();
                        }
                        if (window.keoKarenFlightMap && targetTab === 'flights') {
                            window.keoKarenFlightMap.invalidateSize();
                        }
                    }, 100);
                });
            });
            
            // Load photos from images/photos folder
            async function loadPhotos() {
                const photoGrid = document.getElementById('photo-grid');
                
                console.log('loadPhotos called');
                console.log('GOOGLE_PHOTOS_CONFIG:', window.GOOGLE_PHOTOS_CONFIG);
                
                // Check if Google Photos album URL is configured in config.js
                if (window.GOOGLE_PHOTOS_CONFIG && 
                    window.GOOGLE_PHOTOS_CONFIG.albumUrl && 
                    window.GOOGLE_PHOTOS_CONFIG.albumUrl.startsWith('https://')) {
                    
                    console.log('Displaying Google Photos album button');
                    photoGrid.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 3rem; border-radius: 16px; color: white; max-width: 600px; margin: 0 auto;">
                                <div style="font-size: 4rem; margin-bottom: 1rem;">üì∏</div>
                                <h3 style="margin: 0 0 1rem 0; font-size: 1.8rem;">Italy Trip Photos</h3>
                                <p style="font-size: 1.1rem; margin-bottom: 2rem; line-height: 1.6;">
                                    View all our trip photos in our shared Google Photos album!
                                </p>
                                <a href="${window.GOOGLE_PHOTOS_CONFIG.albumUrl}" 
                                   target="_blank" 
                                   style="display: inline-block; background: white; color: #667eea; padding: 1rem 2rem; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 1.1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.2); transition: transform 0.2s;">
                                    üåç Open Photo Album ‚Üí
                                </a>
                                <p style="margin-top: 2rem; font-size: 0.9rem; opacity: 0.9;">
                                    üí° Anyone can add photos to this shared album during our trip!
                                </p>
                            </div>
                        </div>
                    `;
                    return;
                }
                
                // Try to load from local images/photos folder
                const photoFileNames = [
                    // Add your photo filenames here, or they will be auto-detected if available
                    'rome-1.jpg', 'rome-2.jpg', 'rome-3.jpg',
                    'lake-garda-1.jpg', 'lake-garda-2.jpg',
                    'florence-1.jpg', 'florence-2.jpg',
                    'milan-1.jpg', 'milan-2.jpg'
                ];
                
                // Check if any photos exist
                let photosLoaded = false;
                photoGrid.innerHTML = ''; // Clear loading message
                
                for (const fileName of photoFileNames) {
                    const img = new Image();
                    img.src = `images/photos/${fileName}`;
                    
                    img.onload = function() {
                        photosLoaded = true;
                        const photoCard = document.createElement('div');
                        photoCard.className = 'photo-card';
                        photoCard.innerHTML = `
                            <img src="images/photos/${fileName}" alt="${fileName.replace(/\.[^/.]+$/, '').replace(/-/g, ' ')}">
                            <div class="photo-caption">
                                <h4>${fileName.replace(/\.[^/.]+$/, '').replace(/-/g, ' ').toUpperCase()}</h4>
                            </div>
                        `;
                        photoCard.onclick = function() {
                            window.open(`images/photos/${fileName}`, '_blank');
                        };
                        photoGrid.appendChild(photoCard);
                    };
                    
                    img.onerror = function() {
                        // Photo doesn't exist, skip it
                    };
                }
                
                // If no photos loaded after a delay, show the waiting message
                setTimeout(() => {
                    if (!photosLoaded && photoGrid.children.length === 0) {
                        photoGrid.innerHTML = `
                            <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: #718096;">
                                <p style="font-size: 1.2rem; margin-bottom: 0.5rem;">üì∑ No photos yet</p>
                                <p style="font-size: 0.9rem;">Add photos to <strong>images/photos/</strong> or configure your Google Photos album</p>
                            </div>
                        `;
                    }
                }, 2000);
            }
            
            // Load photos when Photos tab is clicked
            document.querySelector('[data-tab="photos"]').addEventListener('click', function() {
                setTimeout(() => {
                    if (!window.photosLoaded) {
                        loadPhotos();
                        window.photosLoaded = true;
                    }
                }, 100);
            });
        });
    </script>
</body>
</html>
